const db = require('../utils/db')

module.exports = {

    getBookStatusByCondition: (data) => {
        const sql = 'SELECT * FROM book_statuses WHERE ?'
        return new Promise((resolve, reject) => {
            db.query(sql, data, (error, results) => {
                if (error) {
                    reject(Error(error))
                }
                resolve(results)
            })
        })
    },

    getAllBookStatuses: () => {
        const sql = 'SELECT * FROM book_statuses'
        return new Promise((resolve, reject) => {
            db.query(sql, (error, results) => {
                if (error) {
                    reject(Error(error))
                }
                resolve(results)
            })
        })
    },

    createBookStatus: (data) => {
        const sql = 'INSERT INTO book_statuses SET ?'
        return new Promise((resolve, reject) => {
            db.query(sql, data, (error, results) => {
                if (error) {
                    reject(Error(error))
                }
                resolve(results)
            })
        })
    },

    updateBookStatus: (data) => {
        const sql = 'UPDATE book_statuses SET ? WHERE ?'
        return new Promise((resolve, reject) => {
            db.query(sql, data, (error, results) => {
                if (error) {
                    reject(Error(error))
                }
                resolve(results.affectedRows)
            })
        }) 
      },

    deleteBookStatus: (data) => {
        const sql = 'DELETE FROM book_statuses WHERE ?'
        return new Promise((resolve, reject) => {
            db.query(sql, data, (error, results) => {
                if (error) {
                    reject(Error(error))
                }
                resolve(results.affectedRows)
            })
        })
    }

}